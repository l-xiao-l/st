ARM GAS  /tmp/ccdtPmnO.s 			page 1


   1              		.cpu cortex-m0
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"table.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.global	__aeabi_i2f
  16              		.global	__aeabi_fdiv
  17              		.global	__aeabi_fadd
  18              		.section	.text.LinearValue,"ax",%progbits
  19              		.align	1
  20              		.global	LinearValue
  21              		.syntax unified
  22              		.code	16
  23              		.thumb_func
  24              		.fpu softvfp
  26              	LinearValue:
  27              	.LFB37:
  28              		.file 1 "Dsp/table.c"
   1:Dsp/table.c   **** #include "stm32f0xx_hal.h"
   2:Dsp/table.c   **** 
   3:Dsp/table.c   **** #define AMPLITUDE_MAX 4700
   4:Dsp/table.c   **** #define AMPLITUDE_MIM -4700
   5:Dsp/table.c   **** 
   6:Dsp/table.c   **** 
   7:Dsp/table.c   **** extern uint16_t adc_cont;
   8:Dsp/table.c   **** extern uint16_t adc_target;
   9:Dsp/table.c   **** uint16_t I2c_last = 0;
  10:Dsp/table.c   **** uint16_t I2c_Write = 0;
  11:Dsp/table.c   **** uint16_t add = 0;
  12:Dsp/table.c   **** uint16_t add_t = 0;
  13:Dsp/table.c   **** //uint16_t t_pid = 1;
  14:Dsp/table.c   **** 
  15:Dsp/table.c   **** uint16_t ad[101] = {
  16:Dsp/table.c   **** 					987,1026,1066,1107,1148,1190,1233,1276,1320,1365,
  17:Dsp/table.c   **** 					1410,1455,1501,1547,1593,1640,1687,1734,1781,1828,
  18:Dsp/table.c   **** 					1875,1923,1970,2017,2063,2110,2156,2202,2248,2293,
  19:Dsp/table.c   **** 					2338,2382,2426,2469,2512,2554,2596,2637,2677,2716,
  20:Dsp/table.c   **** 					2755,2794,2831,2868,2904,2939,2974,3008,3041,3074,
  21:Dsp/table.c   **** 					3105,3136,3166,3196,3225,3253,3280,3307,3333,3358,
  22:Dsp/table.c   **** 					3383,3406,3430,3452,3474,3496,3517,3537,3556,3576,
  23:Dsp/table.c   **** 					3594,3612,3630,3647,3663,3679,3694,3709,3724,3738,
  24:Dsp/table.c   **** 					3752,3765,3778,3791,3803,3815,3826,3837,3848,3858,
  25:Dsp/table.c   **** 					3868,3878,3888,3897,3906,3914,3923,3931,3939,3947,
  26:Dsp/table.c   **** 					3954
  27:Dsp/table.c   **** 					};
  28:Dsp/table.c   **** 
  29:Dsp/table.c   **** float LinearValue(uint16_t arr[], uint16_t Value, uint8_t mid)
  30:Dsp/table.c   **** {
ARM GAS  /tmp/ccdtPmnO.s 			page 2


  29              		.loc 1 30 0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              	.LVL0:
  34 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 24
  37              		.cfi_offset 3, -24
  38              		.cfi_offset 4, -20
  39              		.cfi_offset 5, -16
  40              		.cfi_offset 6, -12
  41              		.cfi_offset 7, -8
  42              		.cfi_offset 14, -4
  43 0002 0700     		movs	r7, r0
  44 0004 1400     		movs	r4, r2
  31:Dsp/table.c   **** 	float temper;
  32:Dsp/table.c   **** 	
  33:Dsp/table.c   **** 	temper = (float)(Value - arr[mid]) / (arr[mid + 1] - arr[mid]) + mid;
  45              		.loc 1 33 0
  46 0006 5300     		lsls	r3, r2, #1
  47 0008 1E5A     		ldrh	r6, [r3, r0]
  48 000a 881B     		subs	r0, r1, r6
  49              	.LVL1:
  50 000c FFF7FEFF 		bl	__aeabi_i2f
  51              	.LVL2:
  52 0010 051C     		adds	r5, r0, #0
  53 0012 631C     		adds	r3, r4, #1
  54 0014 5B00     		lsls	r3, r3, #1
  55 0016 D85B     		ldrh	r0, [r3, r7]
  56 0018 801B     		subs	r0, r0, r6
  57 001a FFF7FEFF 		bl	__aeabi_i2f
  58              	.LVL3:
  59 001e 011C     		adds	r1, r0, #0
  60 0020 281C     		adds	r0, r5, #0
  61 0022 FFF7FEFF 		bl	__aeabi_fdiv
  62              	.LVL4:
  63 0026 051C     		adds	r5, r0, #0
  64 0028 2000     		movs	r0, r4
  65 002a FFF7FEFF 		bl	__aeabi_i2f
  66              	.LVL5:
  67 002e 011C     		adds	r1, r0, #0
  68 0030 281C     		adds	r0, r5, #0
  69 0032 FFF7FEFF 		bl	__aeabi_fadd
  70              	.LVL6:
  34:Dsp/table.c   **** 	
  35:Dsp/table.c   **** 	return temper;
  36:Dsp/table.c   **** }
  71              		.loc 1 36 0
  72              		@ sp needed
  73              	.LVL7:
  74 0036 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
  75              		.cfi_endproc
  76              	.LFE37:
  78              		.global	__aeabi_ui2f
  79              		.section	.text.Temperature,"ax",%progbits
  80              		.align	1
ARM GAS  /tmp/ccdtPmnO.s 			page 3


  81              		.global	Temperature
  82              		.syntax unified
  83              		.code	16
  84              		.thumb_func
  85              		.fpu softvfp
  87              	Temperature:
  88              	.LFB38:
  37:Dsp/table.c   **** 
  38:Dsp/table.c   **** float Temperature(uint16_t arr[], uint16_t Value, uint8_t len)
  39:Dsp/table.c   **** {
  89              		.loc 1 39 0
  90              		.cfi_startproc
  91              		@ args = 0, pretend = 0, frame = 0
  92              		@ frame_needed = 0, uses_anonymous_args = 0
  93              	.LVL8:
  94 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  95              	.LCFI1:
  96              		.cfi_def_cfa_offset 24
  97              		.cfi_offset 3, -24
  98              		.cfi_offset 4, -20
  99              		.cfi_offset 5, -16
 100              		.cfi_offset 6, -12
 101              		.cfi_offset 7, -8
 102              		.cfi_offset 14, -4
 103              	.LVL9:
  40:Dsp/table.c   **** 	uint16_t max, mid, min;
  41:Dsp/table.c   **** 
  42:Dsp/table.c   **** 	min = 0;
  43:Dsp/table.c   **** 	max = len - 1;
 104              		.loc 1 43 0
 105 0002 013A     		subs	r2, r2, #1
 106              	.LVL10:
 107 0004 96B2     		uxth	r6, r2
 108              	.LVL11:
  44:Dsp/table.c   **** 	mid = (max + min) / 2;
 109              		.loc 1 44 0
 110 0006 7408     		lsrs	r4, r6, #1
 111              	.LVL12:
  45:Dsp/table.c   **** 	if (Value == mid)
 112              		.loc 1 45 0
 113 0008 8C42     		cmp	r4, r1
 114 000a 01D0     		beq	.L12
  42:Dsp/table.c   **** 	max = len - 1;
 115              		.loc 1 42 0
 116 000c 0027     		movs	r7, #0
 117 000e 0DE0     		b	.L3
 118              	.L12:
  46:Dsp/table.c   **** 	{
  47:Dsp/table.c   **** 		return mid;
 119              		.loc 1 47 0
 120 0010 2000     		movs	r0, r4
 121              	.LVL13:
 122 0012 FFF7FEFF 		bl	__aeabi_ui2f
 123              	.LVL14:
 124              	.L2:
  48:Dsp/table.c   **** 	}
  49:Dsp/table.c   **** 	
ARM GAS  /tmp/ccdtPmnO.s 			page 4


  50:Dsp/table.c   **** 	while (Value != arr[mid])
  51:Dsp/table.c   **** 	{
  52:Dsp/table.c   **** 		mid = (max + min) / 2;
  53:Dsp/table.c   **** 		if (Value == arr[mid])
  54:Dsp/table.c   **** 		{
  55:Dsp/table.c   **** 			return mid;
  56:Dsp/table.c   **** 		}
  57:Dsp/table.c   **** 		else if (Value > arr[mid] && Value < arr[mid + 1])
  58:Dsp/table.c   **** 		{
  59:Dsp/table.c   **** 			return LinearValue(ad, Value, mid);
  60:Dsp/table.c   **** 		}
  61:Dsp/table.c   **** 		else if (Value > arr[mid])
  62:Dsp/table.c   **** 		{
  63:Dsp/table.c   **** 			min = mid + 1;
  64:Dsp/table.c   **** 		}
  65:Dsp/table.c   **** 		else if (Value < arr[mid])
  66:Dsp/table.c   **** 		{
  67:Dsp/table.c   **** 			max = mid - 1;
  68:Dsp/table.c   **** 		}
  69:Dsp/table.c   **** 		else
  70:Dsp/table.c   **** 		{
  71:Dsp/table.c   **** 		}
  72:Dsp/table.c   **** 
  73:Dsp/table.c   **** 		if (max < min)
  74:Dsp/table.c   **** 		{
  75:Dsp/table.c   **** 			return 254;
  76:Dsp/table.c   **** 		}
  77:Dsp/table.c   **** 	}
  78:Dsp/table.c   **** 
  79:Dsp/table.c   **** 	return 255;
  80:Dsp/table.c   **** 
  81:Dsp/table.c   **** }
 125              		.loc 1 81 0
 126              		@ sp needed
 127              	.LVL15:
 128 0016 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 129              	.LVL16:
 130              	.L15:
  55:Dsp/table.c   **** 		}
 131              		.loc 1 55 0
 132 0018 2000     		movs	r0, r4
 133              	.LVL17:
 134 001a FFF7FEFF 		bl	__aeabi_ui2f
 135              	.LVL18:
 136 001e FAE7     		b	.L2
 137              	.LVL19:
 138              	.L6:
  61:Dsp/table.c   **** 		{
 139              		.loc 1 61 0
 140 0020 8D42     		cmp	r5, r1
 141 0022 1DD2     		bcs	.L7
  63:Dsp/table.c   **** 		}
 142              		.loc 1 63 0
 143 0024 671C     		adds	r7, r4, #1
 144              	.LVL20:
 145 0026 BFB2     		uxth	r7, r7
 146              	.LVL21:
ARM GAS  /tmp/ccdtPmnO.s 			page 5


 147              	.L8:
  73:Dsp/table.c   **** 		{
 148              		.loc 1 73 0
 149 0028 BE42     		cmp	r6, r7
 150 002a 20D3     		bcc	.L13
 151              	.LVL22:
 152              	.L3:
  50:Dsp/table.c   **** 	{
 153              		.loc 1 50 0
 154 002c 6400     		lsls	r4, r4, #1
 155              	.LVL23:
 156 002e 235A     		ldrh	r3, [r4, r0]
 157 0030 8B42     		cmp	r3, r1
 158 0032 1AD0     		beq	.L14
  52:Dsp/table.c   **** 		if (Value == arr[mid])
 159              		.loc 1 52 0
 160 0034 F319     		adds	r3, r6, r7
 161 0036 DA0F     		lsrs	r2, r3, #31
 162 0038 D218     		adds	r2, r2, r3
 163 003a 5210     		asrs	r2, r2, #1
 164 003c 94B2     		uxth	r4, r2
 165              	.LVL24:
  53:Dsp/table.c   **** 		{
 166              		.loc 1 53 0
 167 003e 1304     		lsls	r3, r2, #16
 168 0040 1B0C     		lsrs	r3, r3, #16
 169 0042 5D00     		lsls	r5, r3, #1
 170 0044 2D5A     		ldrh	r5, [r5, r0]
 171 0046 8D42     		cmp	r5, r1
 172 0048 E6D0     		beq	.L15
  57:Dsp/table.c   **** 		{
 173              		.loc 1 57 0
 174 004a E9D2     		bcs	.L6
  57:Dsp/table.c   **** 		{
 175              		.loc 1 57 0 is_stmt 0 discriminator 1
 176 004c 0133     		adds	r3, r3, #1
 177 004e 5B00     		lsls	r3, r3, #1
 178 0050 1B5A     		ldrh	r3, [r3, r0]
 179 0052 8B42     		cmp	r3, r1
 180 0054 E4D9     		bls	.L6
  59:Dsp/table.c   **** 		}
 181              		.loc 1 59 0 is_stmt 1
 182 0056 D2B2     		uxtb	r2, r2
 183 0058 0648     		ldr	r0, .L16
 184              	.LVL25:
 185 005a FFF7FEFF 		bl	LinearValue
 186              	.LVL26:
 187 005e DAE7     		b	.L2
 188              	.LVL27:
 189              	.L7:
  65:Dsp/table.c   **** 		{
 190              		.loc 1 65 0
 191 0060 8D42     		cmp	r5, r1
 192 0062 E1D9     		bls	.L8
  67:Dsp/table.c   **** 		}
 193              		.loc 1 67 0
 194 0064 661E     		subs	r6, r4, #1
ARM GAS  /tmp/ccdtPmnO.s 			page 6


 195              	.LVL28:
 196 0066 B6B2     		uxth	r6, r6
 197              	.LVL29:
 198 0068 DEE7     		b	.L8
 199              	.LVL30:
 200              	.L14:
  79:Dsp/table.c   **** 
 201              		.loc 1 79 0
 202 006a 0348     		ldr	r0, .L16+4
 203              	.LVL31:
 204 006c D3E7     		b	.L2
 205              	.LVL32:
 206              	.L13:
  75:Dsp/table.c   **** 		}
 207              		.loc 1 75 0
 208 006e 0348     		ldr	r0, .L16+8
 209              	.LVL33:
 210 0070 D1E7     		b	.L2
 211              	.L17:
 212 0072 C046     		.align	2
 213              	.L16:
 214 0074 00000000 		.word	ad
 215 0078 00007F43 		.word	1132396544
 216 007c 00007E43 		.word	1132331008
 217              		.cfi_endproc
 218              	.LFE38:
 220              		.global	__aeabi_ui2d
 221              		.global	__aeabi_dmul
 222              		.global	__aeabi_i2d
 223              		.global	__aeabi_dadd
 224              		.global	__aeabi_d2iz
 225              		.global	__aeabi_fmul
 226              		.global	__aeabi_f2uiz
 227              		.section	.text.adc_entry,"ax",%progbits
 228              		.align	1
 229              		.global	adc_entry
 230              		.syntax unified
 231              		.code	16
 232              		.thumb_func
 233              		.fpu softvfp
 235              	adc_entry:
 236              	.LFB39:
  82:Dsp/table.c   **** 
  83:Dsp/table.c   **** /*
  84:Dsp/table.c   **** float adc_filtering(float dr)
  85:Dsp/table.c   **** {
  86:Dsp/table.c   **** 	float t = 0, t1 = 0;
  87:Dsp/table.c   **** 	t = dr * 0.7 + t1 * 0.3;
  88:Dsp/table.c   **** 	t1 = dr;
  89:Dsp/table.c   **** 
  90:Dsp/table.c   **** 	
  91:Dsp/table.c   **** 	return t;
  92:Dsp/table.c   **** }
  93:Dsp/table.c   **** 
  94:Dsp/table.c   **** void adc_k(void)
  95:Dsp/table.c   **** {
  96:Dsp/table.c   **** 	static uint8_t c = 0;
ARM GAS  /tmp/ccdtPmnO.s 			page 7


  97:Dsp/table.c   **** 	at[c] = ADC1->DR;
  98:Dsp/table.c   **** 	c++;
  99:Dsp/table.c   **** 	if (c == 10)
 100:Dsp/table.c   **** 	{
 101:Dsp/table.c   **** 		c = 0;
 102:Dsp/table.c   **** 	}
 103:Dsp/table.c   **** }
 104:Dsp/table.c   **** 
 105:Dsp/table.c   **** void insert_sort(void)
 106:Dsp/table.c   **** {
 107:Dsp/table.c   **** 	uint8_t i, j, t;
 108:Dsp/table.c   **** 	uint16_t temp = 0;
 109:Dsp/table.c   **** 	uint32_t sum = 0;
 110:Dsp/table.c   **** 
 111:Dsp/table.c   **** 	for (i = 1; i < 10; i++)
 112:Dsp/table.c   **** 	{
 113:Dsp/table.c   **** 		temp = at[i];
 114:Dsp/table.c   **** 	
 115:Dsp/table.c   **** 		for (j = i; j > 0 && temp < at[j - 1]; j--)
 116:Dsp/table.c   **** 		{
 117:Dsp/table.c   **** 			if (temp < at[j - 1])
 118:Dsp/table.c   **** 			{
 119:Dsp/table.c   **** 				at[j] = at[j - 1];
 120:Dsp/table.c   **** 			}
 121:Dsp/table.c   **** 		}
 122:Dsp/table.c   **** 	
 123:Dsp/table.c   **** 		at[j] = temp;
 124:Dsp/table.c   **** 	}
 125:Dsp/table.c   **** 	
 126:Dsp/table.c   **** 	for (t = 1; t < 9; t++)
 127:Dsp/table.c   **** 	{
 128:Dsp/table.c   **** 		sum += at[t];
 129:Dsp/table.c   **** 	}
 130:Dsp/table.c   **** 	
 131:Dsp/table.c   **** 	value = sum / 8;
 132:Dsp/table.c   **** 
 133:Dsp/table.c   **** }
 134:Dsp/table.c   **** */
 135:Dsp/table.c   **** 
 136:Dsp/table.c   **** 
 137:Dsp/table.c   **** 
 138:Dsp/table.c   **** void adc_entry(void)
 139:Dsp/table.c   **** {
 237              		.loc 1 139 0
 238              		.cfi_startproc
 239              		@ args = 0, pretend = 0, frame = 0
 240              		@ frame_needed = 0, uses_anonymous_args = 0
 241 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 242              	.LCFI2:
 243              		.cfi_def_cfa_offset 24
 244              		.cfi_offset 3, -24
 245              		.cfi_offset 4, -20
 246              		.cfi_offset 5, -16
 247              		.cfi_offset 6, -12
 248              		.cfi_offset 7, -8
 249              		.cfi_offset 14, -4
 250              	.LVL34:
ARM GAS  /tmp/ccdtPmnO.s 			page 8


 140:Dsp/table.c   **** 	static int16_t m1 = 0, cn = 0;
 141:Dsp/table.c   **** 	static int16_t a = 0;
 142:Dsp/table.c   **** 	static int16_t a_stat = 0;
 143:Dsp/table.c   **** 	int16_t m = 0; 
 144:Dsp/table.c   **** 
 145:Dsp/table.c   **** 	m = ADC1->DR * 0.8 + m1 * 0.2;
 251              		.loc 1 145 0
 252 0002 254D     		ldr	r5, .L22
 253 0004 286C     		ldr	r0, [r5, #64]
 254 0006 FFF7FEFF 		bl	__aeabi_ui2d
 255              	.LVL35:
 256 000a 244A     		ldr	r2, .L22+4
 257 000c 244B     		ldr	r3, .L22+8
 258 000e FFF7FEFF 		bl	__aeabi_dmul
 259              	.LVL36:
 260 0012 0600     		movs	r6, r0
 261 0014 0F00     		movs	r7, r1
 262 0016 234C     		ldr	r4, .L22+12
 263 0018 0023     		movs	r3, #0
 264 001a E05E     		ldrsh	r0, [r4, r3]
 265 001c FFF7FEFF 		bl	__aeabi_i2d
 266              	.LVL37:
 267 0020 1E4A     		ldr	r2, .L22+4
 268 0022 214B     		ldr	r3, .L22+16
 269 0024 FFF7FEFF 		bl	__aeabi_dmul
 270              	.LVL38:
 271 0028 0200     		movs	r2, r0
 272 002a 0B00     		movs	r3, r1
 273 002c 3000     		movs	r0, r6
 274 002e 3900     		movs	r1, r7
 275 0030 FFF7FEFF 		bl	__aeabi_dadd
 276              	.LVL39:
 277 0034 FFF7FEFF 		bl	__aeabi_d2iz
 278              	.LVL40:
 146:Dsp/table.c   **** 	m1 = ADC1->DR;
 279              		.loc 1 146 0
 280 0038 2B6C     		ldr	r3, [r5, #64]
 281 003a 2380     		strh	r3, [r4]
 147:Dsp/table.c   **** 	adc_cont = Temperature(ad, m, 101) * 10;
 282              		.loc 1 147 0
 283 003c 81B2     		uxth	r1, r0
 284 003e 6522     		movs	r2, #101
 285 0040 1A48     		ldr	r0, .L22+20
 286              	.LVL41:
 287 0042 FFF7FEFF 		bl	Temperature
 288              	.LVL42:
 289 0046 1A49     		ldr	r1, .L22+24
 290 0048 FFF7FEFF 		bl	__aeabi_fmul
 291              	.LVL43:
 292 004c FFF7FEFF 		bl	__aeabi_f2uiz
 293              	.LVL44:
 294 0050 83B2     		uxth	r3, r0
 295 0052 184A     		ldr	r2, .L22+28
 296 0054 1380     		strh	r3, [r2]
 148:Dsp/table.c   **** 
 149:Dsp/table.c   **** 	a = adc_target - adc_cont;
 297              		.loc 1 149 0
ARM GAS  /tmp/ccdtPmnO.s 			page 9


 298 0056 184A     		ldr	r2, .L22+32
 299 0058 1088     		ldrh	r0, [r2]
 300 005a C01A     		subs	r0, r0, r3
 301 005c 00B2     		sxth	r0, r0
 150:Dsp/table.c   **** 	cn++;
 302              		.loc 1 150 0
 303 005e 174A     		ldr	r2, .L22+36
 304 0060 1388     		ldrh	r3, [r2]
 305 0062 0133     		adds	r3, r3, #1
 306 0064 1BB2     		sxth	r3, r3
 307 0066 1380     		strh	r3, [r2]
 151:Dsp/table.c   **** 
 152:Dsp/table.c   **** 	switch (a_stat)
 308              		.loc 1 152 0
 309 0068 154A     		ldr	r2, .L22+40
 310 006a 0021     		movs	r1, #0
 311 006c 525E     		ldrsh	r2, [r2, r1]
 312 006e 002A     		cmp	r2, #0
 313 0070 02D0     		beq	.L20
 314 0072 012A     		cmp	r2, #1
 315 0074 09D0     		beq	.L21
 316              	.L18:
 153:Dsp/table.c   **** 	{
 154:Dsp/table.c   **** 		case 0:
 155:Dsp/table.c   **** 			if (2 < cn)
 156:Dsp/table.c   **** 			{
 157:Dsp/table.c   **** 				a_stat = 1;
 158:Dsp/table.c   **** 				cn = 0;
 159:Dsp/table.c   **** 			}
 160:Dsp/table.c   **** 			break;
 161:Dsp/table.c   **** 		case 1:
 162:Dsp/table.c   **** 			if (a < -10)
 163:Dsp/table.c   **** 			{
 164:Dsp/table.c   **** 				GPIOA->BSRR = 1 << 0;   //beep
 165:Dsp/table.c   **** 			}
 166:Dsp/table.c   **** 			break;
 167:Dsp/table.c   **** 		default:
 168:Dsp/table.c   **** 			break;
 169:Dsp/table.c   **** 	}
 170:Dsp/table.c   **** 
 171:Dsp/table.c   **** }
 317              		.loc 1 171 0
 318              		@ sp needed
 319 0076 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 320              	.L20:
 155:Dsp/table.c   **** 			{
 321              		.loc 1 155 0
 322 0078 022B     		cmp	r3, #2
 323 007a FCDD     		ble	.L18
 157:Dsp/table.c   **** 				cn = 0;
 324              		.loc 1 157 0
 325 007c 104B     		ldr	r3, .L22+40
 326 007e 0122     		movs	r2, #1
 327 0080 1A80     		strh	r2, [r3]
 158:Dsp/table.c   **** 			}
 328              		.loc 1 158 0
 329 0082 0E4B     		ldr	r3, .L22+36
ARM GAS  /tmp/ccdtPmnO.s 			page 10


 330 0084 0022     		movs	r2, #0
 331 0086 1A80     		strh	r2, [r3]
 332 0088 F5E7     		b	.L18
 333              	.L21:
 162:Dsp/table.c   **** 			{
 334              		.loc 1 162 0
 335 008a 0A30     		adds	r0, r0, #10
 336 008c F3DA     		bge	.L18
 164:Dsp/table.c   **** 			}
 337              		.loc 1 164 0
 338 008e 9023     		movs	r3, #144
 339 0090 DB05     		lsls	r3, r3, #23
 340 0092 0122     		movs	r2, #1
 341 0094 9A61     		str	r2, [r3, #24]
 342              		.loc 1 171 0
 343 0096 EEE7     		b	.L18
 344              	.L23:
 345              		.align	2
 346              	.L22:
 347 0098 00240140 		.word	1073816576
 348 009c 9A999999 		.word	-1717986918
 349 00a0 9999E93F 		.word	1072273817
 350 00a4 00000000 		.word	.LANCHOR0
 351 00a8 9999C93F 		.word	1070176665
 352 00ac 00000000 		.word	ad
 353 00b0 00002041 		.word	1092616192
 354 00b4 00000000 		.word	adc_cont
 355 00b8 00000000 		.word	adc_target
 356 00bc 00000000 		.word	.LANCHOR1
 357 00c0 00000000 		.word	.LANCHOR2
 358              		.cfi_endproc
 359              	.LFE39:
 361              		.global	__aeabi_f2iz
 362              		.section	.text.adc_pid,"ax",%progbits
 363              		.align	1
 364              		.global	adc_pid
 365              		.syntax unified
 366              		.code	16
 367              		.thumb_func
 368              		.fpu softvfp
 370              	adc_pid:
 371              	.LFB40:
 172:Dsp/table.c   **** 
 173:Dsp/table.c   **** 
 174:Dsp/table.c   **** void adc_pid(void)
 175:Dsp/table.c   **** {
 372              		.loc 1 175 0
 373              		.cfi_startproc
 374              		@ args = 0, pretend = 0, frame = 8
 375              		@ frame_needed = 0, uses_anonymous_args = 0
 376 0000 70B5     		push	{r4, r5, r6, lr}
 377              	.LCFI3:
 378              		.cfi_def_cfa_offset 16
 379              		.cfi_offset 4, -16
 380              		.cfi_offset 5, -12
 381              		.cfi_offset 6, -8
 382              		.cfi_offset 14, -4
ARM GAS  /tmp/ccdtPmnO.s 			page 11


 383 0002 82B0     		sub	sp, sp, #8
 384              	.LCFI4:
 385              		.cfi_def_cfa_offset 24
 386              	.LVL45:
 176:Dsp/table.c   **** 	static int16_t iError = 0, sumError = 0, dError = 0, LastError = 0;
 177:Dsp/table.c   **** 	static uint16_t  SetPoint = 0;
 178:Dsp/table.c   **** 	//int16_t kp_c = 130, ki_c = 650;
 179:Dsp/table.c   **** 	//static int16_t k = 0;
 180:Dsp/table.c   **** 	static uint16_t kp = 0;
 181:Dsp/table.c   **** 	static float ki = 0, kd = 0.136;
 182:Dsp/table.c   **** 	static int16_t t1 = 0;
 183:Dsp/table.c   **** 	int16_t t = 0; 
 184:Dsp/table.c   **** 	int16_t	adc_value = 0, NextPoint = 0; 
 185:Dsp/table.c   **** 	
 186:Dsp/table.c   **** 	SetPoint = I2c_last + add + add_t; 
 387              		.loc 1 186 0
 388 0004 814B     		ldr	r3, .L41
 389 0006 1C88     		ldrh	r4, [r3]
 390 0008 814B     		ldr	r3, .L41+4
 391 000a 1B88     		ldrh	r3, [r3]
 392 000c E418     		adds	r4, r4, r3
 393 000e A4B2     		uxth	r4, r4
 394 0010 804B     		ldr	r3, .L41+8
 395 0012 1888     		ldrh	r0, [r3]
 396 0014 2418     		adds	r4, r4, r0
 397 0016 A4B2     		uxth	r4, r4
 187:Dsp/table.c   **** 
 188:Dsp/table.c   **** 	if (1000 < SetPoint)
 398              		.loc 1 188 0
 399 0018 FA23     		movs	r3, #250
 400 001a 9B00     		lsls	r3, r3, #2
 401 001c 9C42     		cmp	r4, r3
 402 001e 08D9     		bls	.L25
 189:Dsp/table.c   **** 	{
 190:Dsp/table.c   **** 		I2c_last = 1000;
 403              		.loc 1 190 0
 404 0020 7A4B     		ldr	r3, .L41
 405 0022 FA22     		movs	r2, #250
 406 0024 9200     		lsls	r2, r2, #2
 407 0026 1A80     		strh	r2, [r3]
 191:Dsp/table.c   **** 		add = 0;
 408              		.loc 1 191 0
 409 0028 0023     		movs	r3, #0
 410 002a 794A     		ldr	r2, .L41+4
 411 002c 1380     		strh	r3, [r2]
 192:Dsp/table.c   **** 		add_t = 0;
 412              		.loc 1 192 0
 413 002e 794A     		ldr	r2, .L41+8
 414 0030 1380     		strh	r3, [r2]
 415              	.L25:
 193:Dsp/table.c   **** 	}
 194:Dsp/table.c   **** 	if (100 > SetPoint)
 416              		.loc 1 194 0
 417 0032 632C     		cmp	r4, #99
 418 0034 07D8     		bhi	.L26
 195:Dsp/table.c   **** 	{
 196:Dsp/table.c   **** 		I2c_last = 100;
ARM GAS  /tmp/ccdtPmnO.s 			page 12


 419              		.loc 1 196 0
 420 0036 754B     		ldr	r3, .L41
 421 0038 6422     		movs	r2, #100
 422 003a 1A80     		strh	r2, [r3]
 197:Dsp/table.c   **** 		add = 0;
 423              		.loc 1 197 0
 424 003c 0023     		movs	r3, #0
 425 003e 744A     		ldr	r2, .L41+4
 426 0040 1380     		strh	r3, [r2]
 198:Dsp/table.c   **** 		add_t = 0;
 427              		.loc 1 198 0
 428 0042 744A     		ldr	r2, .L41+8
 429 0044 1380     		strh	r3, [r2]
 430              	.L26:
 199:Dsp/table.c   **** 	}
 200:Dsp/table.c   **** 	adc_target = SetPoint;
 431              		.loc 1 200 0
 432 0046 744B     		ldr	r3, .L41+12
 433 0048 1C80     		strh	r4, [r3]
 201:Dsp/table.c   **** 	I2c_Write = SetPoint;
 434              		.loc 1 201 0
 435 004a 744B     		ldr	r3, .L41+16
 436 004c 1C80     		strh	r4, [r3]
 202:Dsp/table.c   **** 	
 203:Dsp/table.c   **** /*
 204:Dsp/table.c   **** 	if (t_pid == 1)
 205:Dsp/table.c   **** 	{
 206:Dsp/table.c   **** 		kp = kp_c + add;
 207:Dsp/table.c   **** 		adc_target = kp;
 208:Dsp/table.c   **** 	}
 209:Dsp/table.c   **** 	if (t_pid == 0)
 210:Dsp/table.c   **** 	{
 211:Dsp/table.c   **** 		k = ki_c + add_t;
 212:Dsp/table.c   **** 		adc_target = k;
 213:Dsp/table.c   **** 	}
 214:Dsp/table.c   **** 	ki = k / 1000;
 215:Dsp/table.c   **** */
 216:Dsp/table.c   **** 	t = ADC1->DR * 0.8 + t1 * 0.2;
 437              		.loc 1 216 0
 438 004e 744E     		ldr	r6, .L41+20
 439 0050 306C     		ldr	r0, [r6, #64]
 440 0052 FFF7FEFF 		bl	__aeabi_ui2d
 441              	.LVL46:
 442 0056 734A     		ldr	r2, .L41+24
 443 0058 734B     		ldr	r3, .L41+28
 444 005a FFF7FEFF 		bl	__aeabi_dmul
 445              	.LVL47:
 446 005e 0090     		str	r0, [sp]
 447 0060 0191     		str	r1, [sp, #4]
 448 0062 724D     		ldr	r5, .L41+32
 449 0064 0023     		movs	r3, #0
 450 0066 E85E     		ldrsh	r0, [r5, r3]
 451 0068 FFF7FEFF 		bl	__aeabi_i2d
 452              	.LVL48:
 453 006c 6D4A     		ldr	r2, .L41+24
 454 006e 704B     		ldr	r3, .L41+36
 455 0070 FFF7FEFF 		bl	__aeabi_dmul
ARM GAS  /tmp/ccdtPmnO.s 			page 13


 456              	.LVL49:
 457 0074 0200     		movs	r2, r0
 458 0076 0B00     		movs	r3, r1
 459 0078 0098     		ldr	r0, [sp]
 460 007a 0199     		ldr	r1, [sp, #4]
 461 007c FFF7FEFF 		bl	__aeabi_dadd
 462              	.LVL50:
 463 0080 FFF7FEFF 		bl	__aeabi_d2iz
 464              	.LVL51:
 217:Dsp/table.c   **** 	t1 = ADC1->DR;
 465              		.loc 1 217 0
 466 0084 336C     		ldr	r3, [r6, #64]
 467 0086 2B80     		strh	r3, [r5]
 218:Dsp/table.c   **** 	NextPoint = Temperature(ad, t, 101) * 10;
 468              		.loc 1 218 0
 469 0088 81B2     		uxth	r1, r0
 470 008a 6522     		movs	r2, #101
 471 008c 6948     		ldr	r0, .L41+40
 472              	.LVL52:
 473 008e FFF7FEFF 		bl	Temperature
 474              	.LVL53:
 475 0092 6949     		ldr	r1, .L41+44
 476 0094 FFF7FEFF 		bl	__aeabi_fmul
 477              	.LVL54:
 478 0098 FFF7FEFF 		bl	__aeabi_f2iz
 479              	.LVL55:
 219:Dsp/table.c   **** 
 220:Dsp/table.c   **** 	if (300 >= NextPoint && 150 < NextPoint)
 480              		.loc 1 220 0
 481 009c 80B2     		uxth	r0, r0
 482 009e 0300     		movs	r3, r0
 483 00a0 973B     		subs	r3, r3, #151
 484 00a2 9BB2     		uxth	r3, r3
 485 00a4 952B     		cmp	r3, #149
 486 00a6 05D8     		bhi	.L27
 221:Dsp/table.c   **** 	{
 222:Dsp/table.c   **** 		kp = 27.5, ki = 0.130;
 487              		.loc 1 222 0
 488 00a8 644B     		ldr	r3, .L41+48
 489 00aa 1B22     		movs	r2, #27
 490 00ac 1A80     		strh	r2, [r3]
 491 00ae 644B     		ldr	r3, .L41+52
 492 00b0 644A     		ldr	r2, .L41+56
 493 00b2 1A60     		str	r2, [r3]
 494              	.L27:
 223:Dsp/table.c   **** 	}
 224:Dsp/table.c   **** 	if (400 >= NextPoint && 300 < NextPoint)
 495              		.loc 1 224 0
 496 00b4 0300     		movs	r3, r0
 497 00b6 2E3B     		subs	r3, r3, #46
 498 00b8 FF3B     		subs	r3, r3, #255
 499 00ba 9BB2     		uxth	r3, r3
 500 00bc 632B     		cmp	r3, #99
 501 00be 48D8     		bhi	.L28
 225:Dsp/table.c   **** 	{
 226:Dsp/table.c   **** 		kp = 25.0, ki = 0.132;
 502              		.loc 1 226 0
ARM GAS  /tmp/ccdtPmnO.s 			page 14


 503 00c0 5E4B     		ldr	r3, .L41+48
 504 00c2 1922     		movs	r2, #25
 505 00c4 1A80     		strh	r2, [r3]
 506 00c6 5E4B     		ldr	r3, .L41+52
 507 00c8 5F4A     		ldr	r2, .L41+60
 508 00ca 1A60     		str	r2, [r3]
 509              	.L29:
 227:Dsp/table.c   **** 	}
 228:Dsp/table.c   **** 	else if (500 >= NextPoint && 400 < NextPoint)
 229:Dsp/table.c   **** 	{
 230:Dsp/table.c   **** 		kp = 24.0, ki = 0.145;
 231:Dsp/table.c   **** 	}
 232:Dsp/table.c   **** 	else if (600 >= NextPoint && 500 < NextPoint)
 233:Dsp/table.c   **** 	{
 234:Dsp/table.c   **** 		kp = 20, ki = 0.145;
 235:Dsp/table.c   **** 	}
 236:Dsp/table.c   **** 	else if (700 >= NextPoint && 600 < NextPoint)
 237:Dsp/table.c   **** 	{
 238:Dsp/table.c   **** 		kp = 16.5, ki = 0.145;
 239:Dsp/table.c   **** 	}
 240:Dsp/table.c   **** 	else if (800 >= NextPoint && 700 < NextPoint)
 241:Dsp/table.c   **** 	{
 242:Dsp/table.c   **** 		kp = 13.5, ki = 0.155;
 243:Dsp/table.c   **** 	}
 244:Dsp/table.c   **** 	else if (900 >= NextPoint && 800 < NextPoint)
 245:Dsp/table.c   **** 	{
 246:Dsp/table.c   **** 		kp = 9.5, ki = 0.158;
 247:Dsp/table.c   **** 	}
 248:Dsp/table.c   **** 	else if (950 >= NextPoint && 900 < NextPoint)
 249:Dsp/table.c   **** 	{
 250:Dsp/table.c   **** 		kp = 8.5, ki = 0.170;
 251:Dsp/table.c   **** 	}
 252:Dsp/table.c   **** 	else if (1000 >= NextPoint && 950 < NextPoint)
 253:Dsp/table.c   **** 	{
 254:Dsp/table.c   **** 		kp = 8, ki = 0.175;
 255:Dsp/table.c   **** 	}
 256:Dsp/table.c   **** 	else
 257:Dsp/table.c   **** 	{
 258:Dsp/table.c   **** 	//	kp = 0, ki = 0;
 259:Dsp/table.c   **** 	//	printf("re\r\n");
 260:Dsp/table.c   **** 	}
 261:Dsp/table.c   **** 
 262:Dsp/table.c   **** 	iError = SetPoint - NextPoint;
 510              		.loc 1 262 0
 511 00cc 241A     		subs	r4, r4, r0
 512 00ce A4B2     		uxth	r4, r4
 513 00d0 22B2     		sxth	r2, r4
 263:Dsp/table.c   **** 	sumError += iError;
 514              		.loc 1 263 0
 515 00d2 5E49     		ldr	r1, .L41+64
 516 00d4 0B88     		ldrh	r3, [r1]
 517 00d6 E318     		adds	r3, r4, r3
 518 00d8 1BB2     		sxth	r3, r3
 519 00da 0B80     		strh	r3, [r1]
 264:Dsp/table.c   **** 
 265:Dsp/table.c   **** 	if (AMPLITUDE_MAX < sumError)
 520              		.loc 1 265 0
ARM GAS  /tmp/ccdtPmnO.s 			page 15


 521 00dc 5C49     		ldr	r1, .L41+68
 522 00de 8B42     		cmp	r3, r1
 523 00e0 01DD     		ble	.L36
 266:Dsp/table.c   **** 	{
 267:Dsp/table.c   **** 		sumError = AMPLITUDE_MAX;
 524              		.loc 1 267 0
 525 00e2 5A4B     		ldr	r3, .L41+64
 526 00e4 1980     		strh	r1, [r3]
 527              	.L36:
 268:Dsp/table.c   **** 	}
 269:Dsp/table.c   **** 
 270:Dsp/table.c   **** 	if (AMPLITUDE_MIM > sumError)
 528              		.loc 1 270 0
 529 00e6 594B     		ldr	r3, .L41+64
 530 00e8 0021     		movs	r1, #0
 531 00ea 595E     		ldrsh	r1, [r3, r1]
 532 00ec 594B     		ldr	r3, .L41+72
 533 00ee 9942     		cmp	r1, r3
 534 00f0 02DA     		bge	.L37
 271:Dsp/table.c   **** 	{
 272:Dsp/table.c   **** 		sumError = AMPLITUDE_MIM;
 535              		.loc 1 272 0
 536 00f2 564B     		ldr	r3, .L41+64
 537 00f4 5749     		ldr	r1, .L41+72
 538 00f6 1980     		strh	r1, [r3]
 539              	.L37:
 273:Dsp/table.c   **** 	}
 274:Dsp/table.c   **** 
 275:Dsp/table.c   **** 	dError = iError - LastError;
 540              		.loc 1 275 0
 541 00f8 574B     		ldr	r3, .L41+76
 542 00fa 1888     		ldrh	r0, [r3]
 543              	.LVL56:
 544 00fc 241A     		subs	r4, r4, r0
 545 00fe 24B2     		sxth	r4, r4
 276:Dsp/table.c   **** 	LastError = iError;
 546              		.loc 1 276 0
 547 0100 1A80     		strh	r2, [r3]
 277:Dsp/table.c   **** 	
 278:Dsp/table.c   **** 	adc_value = kp * iError + ki * sumError + kd * dError;
 548              		.loc 1 278 0
 549 0102 4E4B     		ldr	r3, .L41+48
 550 0104 1D88     		ldrh	r5, [r3]
 551 0106 5543     		muls	r5, r2
 552 0108 504B     		ldr	r3, .L41+64
 553 010a 0020     		movs	r0, #0
 554 010c 185E     		ldrsh	r0, [r3, r0]
 555 010e FFF7FEFF 		bl	__aeabi_i2f
 556              	.LVL57:
 557 0112 4B4B     		ldr	r3, .L41+52
 558 0114 1968     		ldr	r1, [r3]
 559 0116 FFF7FEFF 		bl	__aeabi_fmul
 560              	.LVL58:
 561 011a 061C     		adds	r6, r0, #0
 562 011c 2800     		movs	r0, r5
 563 011e FFF7FEFF 		bl	__aeabi_i2f
 564              	.LVL59:
ARM GAS  /tmp/ccdtPmnO.s 			page 16


 565 0122 311C     		adds	r1, r6, #0
 566 0124 FFF7FEFF 		bl	__aeabi_fadd
 567              	.LVL60:
 568 0128 051C     		adds	r5, r0, #0
 569 012a 2000     		movs	r0, r4
 570 012c FFF7FEFF 		bl	__aeabi_i2f
 571              	.LVL61:
 572 0130 4A49     		ldr	r1, .L41+80
 573 0132 FFF7FEFF 		bl	__aeabi_fmul
 574              	.LVL62:
 575 0136 011C     		adds	r1, r0, #0
 576 0138 281C     		adds	r0, r5, #0
 577 013a FFF7FEFF 		bl	__aeabi_fadd
 578              	.LVL63:
 579 013e FFF7FEFF 		bl	__aeabi_f2iz
 580              	.LVL64:
 581 0142 00B2     		sxth	r0, r0
 582              	.LVL65:
 279:Dsp/table.c   **** 	if (4700 < adc_value)
 583              		.loc 1 279 0
 584 0144 424B     		ldr	r3, .L41+68
 585 0146 9842     		cmp	r0, r3
 586 0148 5ADC     		bgt	.L39
 280:Dsp/table.c   **** 	{
 281:Dsp/table.c   **** 		adc_value = 4700;
 282:Dsp/table.c   **** 	}
 283:Dsp/table.c   **** 	
 284:Dsp/table.c   **** 	if (0 >= adc_value)
 587              		.loc 1 284 0
 588 014a 0028     		cmp	r0, #0
 589 014c 59DC     		bgt	.L38
 285:Dsp/table.c   **** 	{
 286:Dsp/table.c   **** 		adc_value = 0;
 590              		.loc 1 286 0
 591 014e 0020     		movs	r0, #0
 592              	.LVL66:
 593 0150 57E0     		b	.L38
 594              	.LVL67:
 595              	.L28:
 228:Dsp/table.c   **** 	{
 596              		.loc 1 228 0
 597 0152 0300     		movs	r3, r0
 598 0154 923B     		subs	r3, r3, #146
 599 0156 FF3B     		subs	r3, r3, #255
 600 0158 9BB2     		uxth	r3, r3
 601 015a 632B     		cmp	r3, #99
 602 015c 06D8     		bhi	.L30
 230:Dsp/table.c   **** 	}
 603              		.loc 1 230 0
 604 015e 374B     		ldr	r3, .L41+48
 605 0160 1822     		movs	r2, #24
 606 0162 1A80     		strh	r2, [r3]
 607 0164 364B     		ldr	r3, .L41+52
 608 0166 3E4A     		ldr	r2, .L41+84
 609 0168 1A60     		str	r2, [r3]
 610 016a AFE7     		b	.L29
 611              	.L30:
ARM GAS  /tmp/ccdtPmnO.s 			page 17


 232:Dsp/table.c   **** 	{
 612              		.loc 1 232 0
 613 016c 0300     		movs	r3, r0
 614 016e F63B     		subs	r3, r3, #246
 615 0170 FF3B     		subs	r3, r3, #255
 616 0172 9BB2     		uxth	r3, r3
 617 0174 632B     		cmp	r3, #99
 618 0176 06D8     		bhi	.L31
 234:Dsp/table.c   **** 	}
 619              		.loc 1 234 0
 620 0178 304B     		ldr	r3, .L41+48
 621 017a 1422     		movs	r2, #20
 622 017c 1A80     		strh	r2, [r3]
 623 017e 304B     		ldr	r3, .L41+52
 624 0180 374A     		ldr	r2, .L41+84
 625 0182 1A60     		str	r2, [r3]
 626 0184 A2E7     		b	.L29
 627              	.L31:
 236:Dsp/table.c   **** 	{
 628              		.loc 1 236 0
 629 0186 374B     		ldr	r3, .L41+88
 630 0188 C318     		adds	r3, r0, r3
 631 018a 9BB2     		uxth	r3, r3
 632 018c 632B     		cmp	r3, #99
 633 018e 06D8     		bhi	.L32
 238:Dsp/table.c   **** 	}
 634              		.loc 1 238 0
 635 0190 2A4B     		ldr	r3, .L41+48
 636 0192 1022     		movs	r2, #16
 637 0194 1A80     		strh	r2, [r3]
 638 0196 2A4B     		ldr	r3, .L41+52
 639 0198 314A     		ldr	r2, .L41+84
 640 019a 1A60     		str	r2, [r3]
 641 019c 96E7     		b	.L29
 642              	.L32:
 240:Dsp/table.c   **** 	{
 643              		.loc 1 240 0
 644 019e 324B     		ldr	r3, .L41+92
 645 01a0 C318     		adds	r3, r0, r3
 646 01a2 9BB2     		uxth	r3, r3
 647 01a4 632B     		cmp	r3, #99
 648 01a6 06D8     		bhi	.L33
 242:Dsp/table.c   **** 	}
 649              		.loc 1 242 0
 650 01a8 244B     		ldr	r3, .L41+48
 651 01aa 0D22     		movs	r2, #13
 652 01ac 1A80     		strh	r2, [r3]
 653 01ae 244B     		ldr	r3, .L41+52
 654 01b0 2E4A     		ldr	r2, .L41+96
 655 01b2 1A60     		str	r2, [r3]
 656 01b4 8AE7     		b	.L29
 657              	.L33:
 244:Dsp/table.c   **** 	{
 658              		.loc 1 244 0
 659 01b6 2E4B     		ldr	r3, .L41+100
 660 01b8 C318     		adds	r3, r0, r3
 661 01ba 9BB2     		uxth	r3, r3
ARM GAS  /tmp/ccdtPmnO.s 			page 18


 662 01bc 632B     		cmp	r3, #99
 663 01be 06D8     		bhi	.L34
 246:Dsp/table.c   **** 	}
 664              		.loc 1 246 0
 665 01c0 1E4B     		ldr	r3, .L41+48
 666 01c2 0922     		movs	r2, #9
 667 01c4 1A80     		strh	r2, [r3]
 668 01c6 1E4B     		ldr	r3, .L41+52
 669 01c8 2A4A     		ldr	r2, .L41+104
 670 01ca 1A60     		str	r2, [r3]
 671 01cc 7EE7     		b	.L29
 672              	.L34:
 248:Dsp/table.c   **** 	{
 673              		.loc 1 248 0
 674 01ce 2A4B     		ldr	r3, .L41+108
 675 01d0 C318     		adds	r3, r0, r3
 676 01d2 9BB2     		uxth	r3, r3
 677 01d4 312B     		cmp	r3, #49
 678 01d6 06D8     		bhi	.L35
 250:Dsp/table.c   **** 	}
 679              		.loc 1 250 0
 680 01d8 184B     		ldr	r3, .L41+48
 681 01da 0822     		movs	r2, #8
 682 01dc 1A80     		strh	r2, [r3]
 683 01de 184B     		ldr	r3, .L41+52
 684 01e0 264A     		ldr	r2, .L41+112
 685 01e2 1A60     		str	r2, [r3]
 686 01e4 72E7     		b	.L29
 687              	.L35:
 252:Dsp/table.c   **** 	{
 688              		.loc 1 252 0
 689 01e6 264B     		ldr	r3, .L41+116
 690 01e8 C318     		adds	r3, r0, r3
 691 01ea 9BB2     		uxth	r3, r3
 692 01ec 312B     		cmp	r3, #49
 693 01ee 00D9     		bls	.LCB649
 694 01f0 6CE7     		b	.L29	@long jump
 695              	.LCB649:
 254:Dsp/table.c   **** 	}
 696              		.loc 1 254 0
 697 01f2 124B     		ldr	r3, .L41+48
 698 01f4 0822     		movs	r2, #8
 699 01f6 1A80     		strh	r2, [r3]
 700 01f8 114B     		ldr	r3, .L41+52
 701 01fa 224A     		ldr	r2, .L41+120
 702 01fc 1A60     		str	r2, [r3]
 703 01fe 65E7     		b	.L29
 704              	.LVL68:
 705              	.L39:
 281:Dsp/table.c   **** 	}
 706              		.loc 1 281 0
 707 0200 1348     		ldr	r0, .L41+68
 708              	.LVL69:
 709              	.L38:
 287:Dsp/table.c   **** 	} 
 288:Dsp/table.c   **** 
 289:Dsp/table.c   **** 	TIM3->CCR4 = adc_value;
ARM GAS  /tmp/ccdtPmnO.s 			page 19


 710              		.loc 1 289 0
 711 0202 214B     		ldr	r3, .L41+124
 712 0204 1864     		str	r0, [r3, #64]
 290:Dsp/table.c   **** }
 713              		.loc 1 290 0
 714 0206 02B0     		add	sp, sp, #8
 715              		@ sp needed
 716 0208 70BD     		pop	{r4, r5, r6, pc}
 717              	.L42:
 718 020a C046     		.align	2
 719              	.L41:
 720 020c 00000000 		.word	.LANCHOR3
 721 0210 00000000 		.word	.LANCHOR4
 722 0214 00000000 		.word	.LANCHOR5
 723 0218 00000000 		.word	adc_target
 724 021c 00000000 		.word	.LANCHOR6
 725 0220 00240140 		.word	1073816576
 726 0224 9A999999 		.word	-1717986918
 727 0228 9999E93F 		.word	1072273817
 728 022c 00000000 		.word	.LANCHOR7
 729 0230 9999C93F 		.word	1070176665
 730 0234 00000000 		.word	ad
 731 0238 00002041 		.word	1092616192
 732 023c 00000000 		.word	.LANCHOR8
 733 0240 00000000 		.word	.LANCHOR9
 734 0244 B81E053E 		.word	1040522936
 735 0248 022B073E 		.word	1040657154
 736 024c 00000000 		.word	.LANCHOR10
 737 0250 5C120000 		.word	4700
 738 0254 A4EDFFFF 		.word	-4700
 739 0258 00000000 		.word	.LANCHOR11
 740 025c 96430B3E 		.word	1040925590
 741 0260 E17A143E 		.word	1041529569
 742 0264 A7FDFFFF 		.word	-601
 743 0268 43FDFFFF 		.word	-701
 744 026c 52B81E3E 		.word	1042200658
 745 0270 DFFCFFFF 		.word	-801
 746 0274 C1CA213E 		.word	1042401985
 747 0278 7BFCFFFF 		.word	-901
 748 027c 7B142E3E 		.word	1043207291
 749 0280 49FCFFFF 		.word	-951
 750 0284 3333333E 		.word	1043542835
 751 0288 00040040 		.word	1073742848
 752              		.cfi_endproc
 753              	.LFE40:
 755              		.global	ad
 756              		.global	add_t
 757              		.global	add
 758              		.global	I2c_Write
 759              		.global	I2c_last
 760              		.section	.bss.I2c_Write,"aw",%nobits
 761              		.align	1
 762              		.set	.LANCHOR6,. + 0
 765              	I2c_Write:
 766 0000 0000     		.space	2
 767              		.section	.bss.I2c_last,"aw",%nobits
 768              		.align	1
ARM GAS  /tmp/ccdtPmnO.s 			page 20


 769              		.set	.LANCHOR3,. + 0
 772              	I2c_last:
 773 0000 0000     		.space	2
 774              		.section	.bss.LastError.6988,"aw",%nobits
 775              		.align	1
 776              		.set	.LANCHOR11,. + 0
 779              	LastError.6988:
 780 0000 0000     		.space	2
 781              		.section	.bss.a_stat.6976,"aw",%nobits
 782              		.align	1
 783              		.set	.LANCHOR2,. + 0
 786              	a_stat.6976:
 787 0000 0000     		.space	2
 788              		.section	.bss.add,"aw",%nobits
 789              		.align	1
 790              		.set	.LANCHOR4,. + 0
 793              	add:
 794 0000 0000     		.space	2
 795              		.section	.bss.add_t,"aw",%nobits
 796              		.align	1
 797              		.set	.LANCHOR5,. + 0
 800              	add_t:
 801 0000 0000     		.space	2
 802              		.section	.bss.cn.6974,"aw",%nobits
 803              		.align	1
 804              		.set	.LANCHOR1,. + 0
 807              	cn.6974:
 808 0000 0000     		.space	2
 809              		.section	.bss.ki.6991,"aw",%nobits
 810              		.align	2
 811              		.set	.LANCHOR9,. + 0
 814              	ki.6991:
 815 0000 00000000 		.space	4
 816              		.section	.bss.kp.6990,"aw",%nobits
 817              		.align	1
 818              		.set	.LANCHOR8,. + 0
 821              	kp.6990:
 822 0000 0000     		.space	2
 823              		.section	.bss.m1.6973,"aw",%nobits
 824              		.align	1
 825              		.set	.LANCHOR0,. + 0
 828              	m1.6973:
 829 0000 0000     		.space	2
 830              		.section	.bss.sumError.6986,"aw",%nobits
 831              		.align	1
 832              		.set	.LANCHOR10,. + 0
 835              	sumError.6986:
 836 0000 0000     		.space	2
 837              		.section	.bss.t1.6993,"aw",%nobits
 838              		.align	1
 839              		.set	.LANCHOR7,. + 0
 842              	t1.6993:
 843 0000 0000     		.space	2
 844              		.section	.data.ad,"aw",%progbits
 845              		.align	2
 848              	ad:
 849 0000 DB03     		.short	987
ARM GAS  /tmp/ccdtPmnO.s 			page 21


 850 0002 0204     		.short	1026
 851 0004 2A04     		.short	1066
 852 0006 5304     		.short	1107
 853 0008 7C04     		.short	1148
 854 000a A604     		.short	1190
 855 000c D104     		.short	1233
 856 000e FC04     		.short	1276
 857 0010 2805     		.short	1320
 858 0012 5505     		.short	1365
 859 0014 8205     		.short	1410
 860 0016 AF05     		.short	1455
 861 0018 DD05     		.short	1501
 862 001a 0B06     		.short	1547
 863 001c 3906     		.short	1593
 864 001e 6806     		.short	1640
 865 0020 9706     		.short	1687
 866 0022 C606     		.short	1734
 867 0024 F506     		.short	1781
 868 0026 2407     		.short	1828
 869 0028 5307     		.short	1875
 870 002a 8307     		.short	1923
 871 002c B207     		.short	1970
 872 002e E107     		.short	2017
 873 0030 0F08     		.short	2063
 874 0032 3E08     		.short	2110
 875 0034 6C08     		.short	2156
 876 0036 9A08     		.short	2202
 877 0038 C808     		.short	2248
 878 003a F508     		.short	2293
 879 003c 2209     		.short	2338
 880 003e 4E09     		.short	2382
 881 0040 7A09     		.short	2426
 882 0042 A509     		.short	2469
 883 0044 D009     		.short	2512
 884 0046 FA09     		.short	2554
 885 0048 240A     		.short	2596
 886 004a 4D0A     		.short	2637
 887 004c 750A     		.short	2677
 888 004e 9C0A     		.short	2716
 889 0050 C30A     		.short	2755
 890 0052 EA0A     		.short	2794
 891 0054 0F0B     		.short	2831
 892 0056 340B     		.short	2868
 893 0058 580B     		.short	2904
 894 005a 7B0B     		.short	2939
 895 005c 9E0B     		.short	2974
 896 005e C00B     		.short	3008
 897 0060 E10B     		.short	3041
 898 0062 020C     		.short	3074
 899 0064 210C     		.short	3105
 900 0066 400C     		.short	3136
 901 0068 5E0C     		.short	3166
 902 006a 7C0C     		.short	3196
 903 006c 990C     		.short	3225
 904 006e B50C     		.short	3253
 905 0070 D00C     		.short	3280
 906 0072 EB0C     		.short	3307
ARM GAS  /tmp/ccdtPmnO.s 			page 22


 907 0074 050D     		.short	3333
 908 0076 1E0D     		.short	3358
 909 0078 370D     		.short	3383
 910 007a 4E0D     		.short	3406
 911 007c 660D     		.short	3430
 912 007e 7C0D     		.short	3452
 913 0080 920D     		.short	3474
 914 0082 A80D     		.short	3496
 915 0084 BD0D     		.short	3517
 916 0086 D10D     		.short	3537
 917 0088 E40D     		.short	3556
 918 008a F80D     		.short	3576
 919 008c 0A0E     		.short	3594
 920 008e 1C0E     		.short	3612
 921 0090 2E0E     		.short	3630
 922 0092 3F0E     		.short	3647
 923 0094 4F0E     		.short	3663
 924 0096 5F0E     		.short	3679
 925 0098 6E0E     		.short	3694
 926 009a 7D0E     		.short	3709
 927 009c 8C0E     		.short	3724
 928 009e 9A0E     		.short	3738
 929 00a0 A80E     		.short	3752
 930 00a2 B50E     		.short	3765
 931 00a4 C20E     		.short	3778
 932 00a6 CF0E     		.short	3791
 933 00a8 DB0E     		.short	3803
 934 00aa E70E     		.short	3815
 935 00ac F20E     		.short	3826
 936 00ae FD0E     		.short	3837
 937 00b0 080F     		.short	3848
 938 00b2 120F     		.short	3858
 939 00b4 1C0F     		.short	3868
 940 00b6 260F     		.short	3878
 941 00b8 300F     		.short	3888
 942 00ba 390F     		.short	3897
 943 00bc 420F     		.short	3906
 944 00be 4A0F     		.short	3914
 945 00c0 530F     		.short	3923
 946 00c2 5B0F     		.short	3931
 947 00c4 630F     		.short	3939
 948 00c6 6B0F     		.short	3947
 949 00c8 720F     		.short	3954
 950              		.text
 951              	.Letext0:
 952              		.file 2 "/home/xiao/Tool/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/machine/_default_
 953              		.file 3 "/home/xiao/Tool/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_stdint.h"
 954              		.file 4 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/system_stm32f0xx.h"
 955              		.file 5 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/stm32f030x6.h"
 956              		.file 6 "/home/xiao/Tool/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/lock.h"
 957              		.file 7 "/home/xiao/Tool/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_types.h"
 958              		.file 8 "/home/xiao/Tool/gcc-arm-none-eabi-7-2017-q4-major/lib/gcc/arm-none-eabi/7.2.1/include/std
 959              		.file 9 "/home/xiao/Tool/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/reent.h"
ARM GAS  /tmp/ccdtPmnO.s 			page 23


DEFINED SYMBOLS
                            *ABS*:0000000000000000 table.c
     /tmp/ccdtPmnO.s:19     .text.LinearValue:0000000000000000 $t
     /tmp/ccdtPmnO.s:26     .text.LinearValue:0000000000000000 LinearValue
     /tmp/ccdtPmnO.s:80     .text.Temperature:0000000000000000 $t
     /tmp/ccdtPmnO.s:87     .text.Temperature:0000000000000000 Temperature
     /tmp/ccdtPmnO.s:214    .text.Temperature:0000000000000074 $d
     /tmp/ccdtPmnO.s:848    .data.ad:0000000000000000 ad
     /tmp/ccdtPmnO.s:228    .text.adc_entry:0000000000000000 $t
     /tmp/ccdtPmnO.s:235    .text.adc_entry:0000000000000000 adc_entry
     /tmp/ccdtPmnO.s:347    .text.adc_entry:0000000000000098 $d
     /tmp/ccdtPmnO.s:363    .text.adc_pid:0000000000000000 $t
     /tmp/ccdtPmnO.s:370    .text.adc_pid:0000000000000000 adc_pid
     /tmp/ccdtPmnO.s:720    .text.adc_pid:000000000000020c $d
     /tmp/ccdtPmnO.s:800    .bss.add_t:0000000000000000 add_t
     /tmp/ccdtPmnO.s:793    .bss.add:0000000000000000 add
     /tmp/ccdtPmnO.s:765    .bss.I2c_Write:0000000000000000 I2c_Write
     /tmp/ccdtPmnO.s:772    .bss.I2c_last:0000000000000000 I2c_last
     /tmp/ccdtPmnO.s:761    .bss.I2c_Write:0000000000000000 $d
     /tmp/ccdtPmnO.s:768    .bss.I2c_last:0000000000000000 $d
     /tmp/ccdtPmnO.s:775    .bss.LastError.6988:0000000000000000 $d
     /tmp/ccdtPmnO.s:779    .bss.LastError.6988:0000000000000000 LastError.6988
     /tmp/ccdtPmnO.s:782    .bss.a_stat.6976:0000000000000000 $d
     /tmp/ccdtPmnO.s:786    .bss.a_stat.6976:0000000000000000 a_stat.6976
     /tmp/ccdtPmnO.s:789    .bss.add:0000000000000000 $d
     /tmp/ccdtPmnO.s:796    .bss.add_t:0000000000000000 $d
     /tmp/ccdtPmnO.s:803    .bss.cn.6974:0000000000000000 $d
     /tmp/ccdtPmnO.s:807    .bss.cn.6974:0000000000000000 cn.6974
     /tmp/ccdtPmnO.s:810    .bss.ki.6991:0000000000000000 $d
     /tmp/ccdtPmnO.s:814    .bss.ki.6991:0000000000000000 ki.6991
     /tmp/ccdtPmnO.s:817    .bss.kp.6990:0000000000000000 $d
     /tmp/ccdtPmnO.s:821    .bss.kp.6990:0000000000000000 kp.6990
     /tmp/ccdtPmnO.s:824    .bss.m1.6973:0000000000000000 $d
     /tmp/ccdtPmnO.s:828    .bss.m1.6973:0000000000000000 m1.6973
     /tmp/ccdtPmnO.s:831    .bss.sumError.6986:0000000000000000 $d
     /tmp/ccdtPmnO.s:835    .bss.sumError.6986:0000000000000000 sumError.6986
     /tmp/ccdtPmnO.s:838    .bss.t1.6993:0000000000000000 $d
     /tmp/ccdtPmnO.s:842    .bss.t1.6993:0000000000000000 t1.6993
     /tmp/ccdtPmnO.s:845    .data.ad:0000000000000000 $d

UNDEFINED SYMBOLS
__aeabi_i2f
__aeabi_fdiv
__aeabi_fadd
__aeabi_ui2f
__aeabi_ui2d
__aeabi_dmul
__aeabi_i2d
__aeabi_dadd
__aeabi_d2iz
__aeabi_fmul
__aeabi_f2uiz
adc_cont
adc_target
__aeabi_f2iz

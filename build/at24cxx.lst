ARM GAS  /tmp/cce2CK4i.s 			page 1


   1              		.cpu cortex-m0
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"at24cxx.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.at24c02_adc_write,"ax",%progbits
  16              		.align	1
  17              		.global	at24c02_adc_write
  18              		.syntax unified
  19              		.code	16
  20              		.thumb_func
  21              		.fpu softvfp
  23              	at24c02_adc_write:
  24              	.LFB37:
  25              		.file 1 "Dsp/at24cxx.c"
   1:Dsp/at24cxx.c **** #include "stm32f0xx_hal.h"
   2:Dsp/at24cxx.c **** #include "iic.h"
   3:Dsp/at24cxx.c **** 
   4:Dsp/at24cxx.c **** extern uint8_t flag;
   5:Dsp/at24cxx.c **** extern uint8_t I2c_Write;
   6:Dsp/at24cxx.c **** uint8_t I2c_Read = 0;
   7:Dsp/at24cxx.c **** uint8_t flag_ec11 = 0; 
   8:Dsp/at24cxx.c **** void at24c02_adc_write(void)
   9:Dsp/at24cxx.c **** {
  26              		.loc 1 9 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30 0000 10B5     		push	{r4, lr}
  31              	.LCFI0:
  32              		.cfi_def_cfa_offset 8
  33              		.cfi_offset 4, -8
  34              		.cfi_offset 14, -4
  10:Dsp/at24cxx.c **** 	if (flag_ec11 == 1)
  35              		.loc 1 10 0
  36 0002 074B     		ldr	r3, .L4
  37 0004 1B78     		ldrb	r3, [r3]
  38 0006 012B     		cmp	r3, #1
  39 0008 00D0     		beq	.L3
  40              	.L1:
  11:Dsp/at24cxx.c **** 	{
  12:Dsp/at24cxx.c **** 		EEPROM_WriteBytes(&I2c_Write, 0, 256);
  13:Dsp/at24cxx.c **** 		flag_ec11 = 0;
  14:Dsp/at24cxx.c **** 	}
  15:Dsp/at24cxx.c **** 	else
  16:Dsp/at24cxx.c **** 	{
  17:Dsp/at24cxx.c **** 	}
  18:Dsp/at24cxx.c **** }
ARM GAS  /tmp/cce2CK4i.s 			page 2


  41              		.loc 1 18 0
  42              		@ sp needed
  43 000a 10BD     		pop	{r4, pc}
  44              	.L3:
  12:Dsp/at24cxx.c **** 		flag_ec11 = 0;
  45              		.loc 1 12 0
  46 000c 8022     		movs	r2, #128
  47 000e 5200     		lsls	r2, r2, #1
  48 0010 0021     		movs	r1, #0
  49 0012 0448     		ldr	r0, .L4+4
  50 0014 FFF7FEFF 		bl	EEPROM_WriteBytes
  51              	.LVL0:
  13:Dsp/at24cxx.c **** 	}
  52              		.loc 1 13 0
  53 0018 014B     		ldr	r3, .L4
  54 001a 0022     		movs	r2, #0
  55 001c 1A70     		strb	r2, [r3]
  56              		.loc 1 18 0
  57 001e F4E7     		b	.L1
  58              	.L5:
  59              		.align	2
  60              	.L4:
  61 0020 00000000 		.word	.LANCHOR0
  62 0024 00000000 		.word	I2c_Write
  63              		.cfi_endproc
  64              	.LFE37:
  66              		.section	.text.at24c02_adc_read,"ax",%progbits
  67              		.align	1
  68              		.global	at24c02_adc_read
  69              		.syntax unified
  70              		.code	16
  71              		.thumb_func
  72              		.fpu softvfp
  74              	at24c02_adc_read:
  75              	.LFB38:
  19:Dsp/at24cxx.c **** 
  20:Dsp/at24cxx.c **** void at24c02_adc_read(void)
  21:Dsp/at24cxx.c **** {
  76              		.loc 1 21 0
  77              		.cfi_startproc
  78              		@ args = 0, pretend = 0, frame = 0
  79              		@ frame_needed = 0, uses_anonymous_args = 0
  80 0000 10B5     		push	{r4, lr}
  81              	.LCFI1:
  82              		.cfi_def_cfa_offset 8
  83              		.cfi_offset 4, -8
  84              		.cfi_offset 14, -4
  22:Dsp/at24cxx.c **** 	if (flag == 1)
  85              		.loc 1 22 0
  86 0002 0A4B     		ldr	r3, .L10
  87 0004 1B78     		ldrb	r3, [r3]
  88 0006 012B     		cmp	r3, #1
  89 0008 03D0     		beq	.L9
  23:Dsp/at24cxx.c **** 	{
  24:Dsp/at24cxx.c **** 		EEPROM_ReadBytes(&I2c_Read, 0, 256);
  25:Dsp/at24cxx.c **** 		printf("2c%d\r\n", I2c_Read);
  26:Dsp/at24cxx.c **** 	}
ARM GAS  /tmp/cce2CK4i.s 			page 3


  27:Dsp/at24cxx.c **** 	else
  28:Dsp/at24cxx.c **** 	{
  29:Dsp/at24cxx.c **** 		printf("error\r\n");
  90              		.loc 1 29 0
  91 000a 0948     		ldr	r0, .L10+4
  92 000c FFF7FEFF 		bl	puts
  93              	.LVL1:
  94              	.L6:
  30:Dsp/at24cxx.c **** 	}
  31:Dsp/at24cxx.c **** }
  95              		.loc 1 31 0
  96              		@ sp needed
  97 0010 10BD     		pop	{r4, pc}
  98              	.L9:
  24:Dsp/at24cxx.c **** 		printf("2c%d\r\n", I2c_Read);
  99              		.loc 1 24 0
 100 0012 8022     		movs	r2, #128
 101 0014 074C     		ldr	r4, .L10+8
 102 0016 5200     		lsls	r2, r2, #1
 103 0018 0021     		movs	r1, #0
 104 001a 2000     		movs	r0, r4
 105 001c FFF7FEFF 		bl	EEPROM_ReadBytes
 106              	.LVL2:
  25:Dsp/at24cxx.c **** 	}
 107              		.loc 1 25 0
 108 0020 2178     		ldrb	r1, [r4]
 109 0022 0548     		ldr	r0, .L10+12
 110 0024 FFF7FEFF 		bl	printf
 111              	.LVL3:
 112 0028 F2E7     		b	.L6
 113              	.L11:
 114 002a C046     		.align	2
 115              	.L10:
 116 002c 00000000 		.word	flag
 117 0030 08000000 		.word	.LC6
 118 0034 00000000 		.word	.LANCHOR1
 119 0038 00000000 		.word	.LC4
 120              		.cfi_endproc
 121              	.LFE38:
 123              		.global	flag_ec11
 124              		.global	I2c_Read
 125              		.section	.bss.I2c_Read,"aw",%nobits
 126              		.set	.LANCHOR1,. + 0
 129              	I2c_Read:
 130 0000 00       		.space	1
 131              		.section	.bss.flag_ec11,"aw",%nobits
 132              		.set	.LANCHOR0,. + 0
 135              	flag_ec11:
 136 0000 00       		.space	1
 137              		.section	.rodata.at24c02_adc_read.str1.4,"aMS",%progbits,1
 138              		.align	2
 139              	.LC4:
 140 0000 32632564 		.ascii	"2c%d\015\012\000"
 140      0D0A00
 141 0007 00       		.space	1
 142              	.LC6:
 143 0008 6572726F 		.ascii	"error\015\000"
ARM GAS  /tmp/cce2CK4i.s 			page 4


 143      720D00
 144              		.text
 145              	.Letext0:
 146              		.file 2 "/home/xiao/Tool/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/machine/_default_
 147              		.file 3 "/home/xiao/Tool/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_stdint.h"
 148              		.file 4 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/system_stm32f0xx.h"
 149              		.file 5 "/home/xiao/Tool/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/lock.h"
 150              		.file 6 "/home/xiao/Tool/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_types.h"
 151              		.file 7 "/home/xiao/Tool/gcc-arm-none-eabi-7-2017-q4-major/lib/gcc/arm-none-eabi/7.2.1/include/std
 152              		.file 8 "/home/xiao/Tool/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/reent.h"
 153              		.file 9 "Dsp/Inc/iic.h"
 154              		.file 10 "/home/xiao/Tool/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/stdio.h"
 155              		.file 11 "<built-in>"
ARM GAS  /tmp/cce2CK4i.s 			page 5


DEFINED SYMBOLS
                            *ABS*:0000000000000000 at24cxx.c
     /tmp/cce2CK4i.s:16     .text.at24c02_adc_write:0000000000000000 $t
     /tmp/cce2CK4i.s:23     .text.at24c02_adc_write:0000000000000000 at24c02_adc_write
     /tmp/cce2CK4i.s:61     .text.at24c02_adc_write:0000000000000020 $d
     /tmp/cce2CK4i.s:67     .text.at24c02_adc_read:0000000000000000 $t
     /tmp/cce2CK4i.s:74     .text.at24c02_adc_read:0000000000000000 at24c02_adc_read
     /tmp/cce2CK4i.s:116    .text.at24c02_adc_read:000000000000002c $d
     /tmp/cce2CK4i.s:135    .bss.flag_ec11:0000000000000000 flag_ec11
     /tmp/cce2CK4i.s:129    .bss.I2c_Read:0000000000000000 I2c_Read
     /tmp/cce2CK4i.s:130    .bss.I2c_Read:0000000000000000 $d
     /tmp/cce2CK4i.s:136    .bss.flag_ec11:0000000000000000 $d
     /tmp/cce2CK4i.s:138    .rodata.at24c02_adc_read.str1.4:0000000000000000 $d

UNDEFINED SYMBOLS
EEPROM_WriteBytes
I2c_Write
puts
EEPROM_ReadBytes
printf
flag
